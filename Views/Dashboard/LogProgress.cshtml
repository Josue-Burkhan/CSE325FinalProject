@{
    ViewData["Title"] = "Daily Progress Log Entry";
    Layout = "~/Views/Shared/_DashboardLayout.cshtml";
}

<div class="w-full max-w-[640px] mx-auto flex flex-col gap-10">
    <!-- Header with back button -->
    <div class="flex items-center gap-4 -ml-2">
        <a asp-controller="Dashboard" asp-action="SkillDetail" class="flex items-center justify-center size-10 rounded-full hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors text-text-main dark:text-white group">
            <span class="material-symbols-outlined group-hover:-translate-x-1 transition-transform">arrow_back</span>
        </a>
        <div class="flex flex-col">
            <span class="text-xs font-semibold text-primary tracking-wide uppercase">Logging Progress</span>
            <h1 class="text-lg font-bold leading-none text-text-main dark:text-white">Skill: Advanced Python</h1>
        </div>
    </div>

    <!-- Intro Text -->
    <div class="text-center sm:text-left">
        <h2 class="text-3xl sm:text-4xl font-extrabold tracking-tight text-text-main dark:text-white mb-2">How did it go?</h2>
        <p class="text-text-secondary dark:text-gray-400 text-lg">Every step forward counts. Capture your session below.</p>
    </div>

    <!-- Section 1: Reflection (Journal) -->
    <section class="flex flex-col gap-3">
        <label class="flex items-center gap-2 text-sm font-bold text-text-main dark:text-gray-200 uppercase tracking-wider" for="session-notes">
            <span class="material-symbols-outlined text-primary text-lg">edit_note</span>
            Session Notes
        </label>
        <div class="relative group">
            <textarea class="w-full min-h-[160px] p-5 rounded-xl bg-gray-50 dark:bg-surface-dark border-2 border-transparent focus:border-primary/50 focus:ring-0 text-base text-text-main dark:text-white placeholder:text-text-secondary/60 resize-none transition-all shadow-sm hover:shadow-md outline-none" id="session-notes" placeholder="Describe what you learned or practiced... (e.g., 'Mastered list comprehensions and debugged the API endpoint')"></textarea>
            <div class="absolute bottom-3 right-4 text-xs font-medium text-text-secondary dark:text-gray-500 opacity-0 group-focus-within:opacity-100 transition-opacity">
                Markdown supported
            </div>
        </div>
    </section>

    <!-- Section 2: Duration (Time Entry) -->
    <section class="flex flex-col gap-3">
        <label class="flex items-center gap-2 text-sm font-bold text-text-main dark:text-gray-200 uppercase tracking-wider">
            <span class="material-symbols-outlined text-primary text-lg">timer</span>
            Time Spent
        </label>
        <div class="grid grid-cols-2 gap-4 sm:gap-6">
            <!-- Hours Input -->
            <div class="relative group">
                <div class="flex flex-col items-center justify-center p-4 rounded-xl bg-gray-50 dark:bg-surface-dark border-2 border-transparent group-focus-within:border-primary/30 transition-all">
                    <input class="w-full text-center bg-transparent border-none p-0 text-4xl font-bold text-text-main dark:text-white focus:ring-0 placeholder:text-gray-300 dark:placeholder:text-gray-600" max="23" min="0" placeholder="0" type="number" />
                    <span class="text-sm font-medium text-text-secondary dark:text-gray-400 mt-1">Hours</span>
                </div>
            </div>
            <!-- Minutes Input -->
            <div class="relative group">
                <div class="flex flex-col items-center justify-center p-4 rounded-xl bg-gray-50 dark:bg-surface-dark border-2 border-transparent group-focus-within:border-primary/30 transition-all">
                    <input class="w-full text-center bg-transparent border-none p-0 text-4xl font-bold text-text-main dark:text-white focus:ring-0 placeholder:text-gray-300 dark:placeholder:text-gray-600" max="59" min="0" placeholder="30" type="number" />
                    <span class="text-sm font-medium text-text-secondary dark:text-gray-400 mt-1">Minutes</span>
                </div>
            </div>
        </div>
    </section>

    <!-- Section 3: Minimetas (Sub-goals) -->
    <section class="flex flex-col gap-3">
        <div class="flex items-center justify-between">
            <label class="flex items-center gap-2 text-sm font-bold text-text-main dark:text-gray-200 uppercase tracking-wider">
                <span class="material-symbols-outlined text-primary text-lg">check_circle</span>
                Minimetas
            </label>
            <span class="text-xs font-semibold px-2 py-1 bg-primary/10 text-primary rounded-md">1/3 Completed</span>
        </div>
        <div class="flex flex-col gap-3">
            <!-- Item 1: Checked -->
            <label class="relative flex items-center p-4 rounded-xl cursor-pointer bg-white dark:bg-surface-dark border-2 border-primary/20 hover:border-primary/50 dark:border-gray-700 dark:hover:border-primary/40 shadow-sm hover:shadow-md transition-all group">
                <input checked class="form-checkbox size-6 rounded-md text-primary focus:ring-primary/50 border-gray-300 dark:border-gray-600 transition duration-150 ease-in-out mr-4" type="checkbox" />
                <div class="flex flex-col">
                    <span class="text-base font-medium text-text-main dark:text-white group-hover:text-primary transition-colors">Complete one coding challenge</span>
                    <span class="text-xs text-text-secondary dark:text-gray-500">Daily Practice</span>
                </div>
                <div class="absolute right-4 text-primary opacity-100 transition-opacity">
                    <span class="material-symbols-outlined">verified</span>
                </div>
            </label>
            <!-- Item 2: Unchecked -->
            <label class="relative flex items-center p-4 rounded-xl cursor-pointer bg-gray-50 dark:bg-surface-dark border-2 border-transparent hover:border-gray-200 dark:hover:border-gray-600 transition-all group">
                <input class="form-checkbox size-6 rounded-md text-primary focus:ring-primary/50 border-gray-300 dark:border-gray-600 transition duration-150 ease-in-out mr-4 bg-white dark:bg-gray-800" type="checkbox" />
                <div class="flex flex-col">
                    <span class="text-base font-medium text-text-main dark:text-gray-300 group-hover:text-text-main dark:group-hover:text-white transition-colors">Read documentation for 15 mins</span>
                    <span class="text-xs text-text-secondary dark:text-gray-500">Study</span>
                </div>
            </label>
            <!-- Item 3: Unchecked -->
            <label class="relative flex items-center p-4 rounded-xl cursor-pointer bg-gray-50 dark:bg-surface-dark border-2 border-transparent hover:border-gray-200 dark:hover:border-gray-600 transition-all group">
                <input class="form-checkbox size-6 rounded-md text-primary focus:ring-primary/50 border-gray-300 dark:border-gray-600 transition duration-150 ease-in-out mr-4 bg-white dark:bg-gray-800" type="checkbox" />
                <div class="flex flex-col">
                    <span class="text-base font-medium text-text-main dark:text-gray-300 group-hover:text-text-main dark:group-hover:text-white transition-colors">Push code to GitHub</span>
                    <span class="text-xs text-text-secondary dark:text-gray-500">Portfolio</span>
                </div>
            </label>
        </div>
    </section>
</div>

<!-- Sticky Footer Action -->
<div class="fixed bottom-0 left-0 md:left-64 right-0 z-40 bg-white/80 dark:bg-background-dark/80 backdrop-blur-xl border-t border-gray-100 dark:border-gray-800 px-6 py-4 flex justify-center">
    <div class="w-full max-w-[640px] flex items-center justify-between gap-4">
        <div class="hidden sm:flex flex-col">
            <span class="text-xs font-bold text-text-secondary uppercase">Total Time</span>
            <span class="text-lg font-bold text-text-main dark:text-white">0h 30m</span>
        </div>
        <a asp-controller="Dashboard" asp-action="DailyLogSuccess" class="flex-1 sm:flex-none sm:w-auto min-w-[200px] flex items-center justify-center gap-2 bg-primary hover:bg-primary-dark text-white font-bold text-lg py-3.5 px-8 rounded-xl shadow-lg shadow-primary/20 hover:shadow-primary/40 transform hover:-translate-y-0.5 transition-all">
            <span class="material-symbols-outlined">save</span>
            Log Progress
        </a>
    </div>
</div>
