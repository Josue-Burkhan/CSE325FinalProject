<!DOCTYPE html>
<html lang="en" class="light">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <base href="/" />
    <title>A Better Me</title>
    
    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="favicon.ico" />
    
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Manrope:wght@200..800&family=Noto+Sans:wght@400;500;700&family=Satisfy&display=swap" rel="stylesheet">
    
    <!-- Material Symbols -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
    
    <!-- Custom CSS -->
    <link href="css/site.css" rel="stylesheet" />
    <link href="css/dashboard.css" rel="stylesheet" />
    
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    colors: {
                        primary: {
                            DEFAULT: 'rgb(var(--color-primary) / <alpha-value>)',
                            light: 'rgb(var(--color-primary-light) / <alpha-value>)',
                            dark: 'rgb(var(--color-primary-dark) / <alpha-value>)',
                        },
                        background: {
                            light: '#f9fafb',
                            dark: '#191b1f'
                        },
                        surface: {
                            light: '#ffffff',
                            dark: '#23262b'
                        },
                        text: {
                            main: '#121717',
                            secondary: '#658684'
                        }
                    },
                    fontFamily: {
                        display: ['Manrope', 'sans-serif'],
                        body: ['Noto Sans', 'sans-serif'],
                        brand: ['Satisfy', 'cursive']
                    },
                    boxShadow: {
                        'soft': '0 4px 20px -2px rgba(0, 0, 0, 0.05)',
                        'glow': '0 0 15px rgba(45, 215, 204, 0.3)'
                    }
                }
            }
        }
    </script>
    
    <!-- Custom Styles -->
    <style>
        .no-scrollbar::-webkit-scrollbar { display: none; }
        .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
        
        @@keyframes shimmer {
            0% { transform: translateX(-100%); }
            100% { transform: translateX(100%); }
        }
        .animate-shimmer { animation: shimmer 2s infinite; }
        
        .line-clamp-2 {
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }
    </style>
    
    <HeadOutlet />
</head>
<body class="font-display bg-background-light dark:bg-background-dark min-h-screen antialiased">
    <Routes @rendermode="RenderModeForPage" />
    
    <script src="_framework/blazor.web.js"></script>
    
    <!-- Theme Toggle Script -->
    <script>
        // Check for saved theme preference, otherwise DEFAULT to light (ignore system preference)
        if (localStorage.getItem('theme') === 'dark') {
            document.documentElement.classList.add('dark');
            document.documentElement.classList.remove('light');
        } else {
            // Force light mode default
            document.documentElement.classList.remove('dark');
            document.documentElement.classList.add('light');
            localStorage.setItem('theme', 'light');
        }
        
        window.toggleTheme = function() {
            const html = document.documentElement;
            if (html.classList.contains('dark')) {
                html.classList.remove('dark');
                html.classList.add('light');
                localStorage.setItem('theme', 'light');
            } else {
                html.classList.remove('light');
                html.classList.add('dark');
                localStorage.setItem('theme', 'dark');
            }
        }
    </script>
</body>
</html>

@code {
    private static IComponentRenderMode RenderModeForPage => 
        new InteractiveServerRenderMode(prerender: true);
}
